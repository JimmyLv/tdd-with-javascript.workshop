(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},,,,,,function(e,t,n){e.exports=n(28)},,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),c=n.n(r),i=(n(19),n(1)),u=n(2),s=n(4),l=n(3),p=n(5),d=(n(20),n(8)),h=n.n(d),m=n(11),f=n(6),v=n(12);var g=function(e){return{id:e,count:1,price:100}};function b(e,t){return e.map(function(e){return e.id===t.id?t:e})}n(23);var w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={shouldShowPopup:!1,value:""},n.togglePopup=function(){n.setState(function(e){return{shouldShowPopup:!e.shouldShowPopup}})},n.handleChange=function(e){n.setState({value:e.target.value})},n.handleConfirm=function(e){n.state.value&&(n.props.onConfirm(+n.state.value),n.setState({shouldShowPopup:!1,value:""})),e.preventDefault()},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"bottom-action"},o.a.createElement("button",{className:"btn add",onClick:this.togglePopup},"\u6dfb\u52a0\u5546\u54c1"),o.a.createElement("div",{className:"popup",style:{display:this.state.shouldShowPopup?"block":"none"}},o.a.createElement("div",{className:"backdrop",onClick:this.togglePopup}),o.a.createElement("form",{onSubmit:this.handleConfirm,className:"popup-content"},o.a.createElement("h3",null,"\u6dfb\u52a0\u5546\u54c1"),o.a.createElement("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u7f16\u53f7",value:this.state.value,onChange:this.handleChange}),o.a.createElement("button",{className:"btn confirm",type:"submit",value:"Submit"},"\u786e\u5b9a")))))}}]),t}(a.Component);w.defaultProps={};var E=w,C=(n(24),n(7)),j=n.n(C),O=(n(25),function(){return o.a.createElement("div",{className:"header"},o.a.createElement("img",{className:"header-logo",src:j.a,alt:"logo"}),o.a.createElement("h3",{className:"header-title"},"React Shopping Cart"))});n(26);var k=function(e){var t=e.count,n=e.minusCount,a=e.plusCount;return o.a.createElement("div",{className:"actions"},o.a.createElement("button",{className:"minus",onClick:n},"-"),o.a.createElement("span",null,"\u6570\u91cf ",t," "),o.a.createElement("button",{className:"plus",onClick:a},"+"))},N=(n(27),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).minusCount=function(){var e=n.props,t=e.product,a=e.onCountChange;t.count>1&&a(Object(f.a)({},t,{count:t.count-1}))},n.plusCount=function(){var e=n.props,t=e.product;(0,e.onCountChange)(Object(f.a)({},t,{count:t.count+1}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.product,t=e.id,n=e.count,a=e.price;return o.a.createElement("div",{className:"product"},o.a.createElement("h3",{className:"code"},o.a.createElement("a",{href:"/products/".concat(t)},"\u5546\u54c1\u7f16\u53f7\uff1a",t)),o.a.createElement("div",{className:"code"},"\u5355\u4ef7\uff1a",a),o.a.createElement(k,{count:n,minusCount:this.minusCount,plusCount:this.plusCount}))}}]),t}(a.Component));N.defaultProps={};var y=N,P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={products:[]},n.handleAddProduct=function(e){n.setState(function(t){var n=t.products.find(function(t){return t.id===e});return{products:n?b(t.products,Object(f.a)({},n,{count:n.count+1})):function(e,t){return[].concat(Object(v.a)(e),[t])}(t.products,g(e))}})},n.handleProductChange=function(e){n.setState(function(t){return{products:b(t.products,e)}})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/products");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({products:n});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.products;return o.a.createElement("div",{className:"page-cart"},o.a.createElement(O,null),o.a.createElement("div",{className:"price"},"\u603b\u4ef7",function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return e+t.price*t.count},0)}(t)),o.a.createElement("div",{className:"list"},t.map(function(t){return o.a.createElement(y,{key:t.id,product:t,onCountChange:e.handleProductChange})})),o.a.createElement("div",null,"hello world!"),o.a.createElement(E,{onConfirm:this.handleAddProduct}))}}]),t}(a.Component);P.defaultProps={};var S=P,A=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:j.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",{className:"App-title"},this.props.name)),o.a.createElement(S,null))}}]),t}(a.Component);A.defaultProps={name:"Test Driven Development"};var x=A,W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(x,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/tdd-with-javascript.workshop",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/tdd-with-javascript.workshop","/service-worker.js");W?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):D(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):D(e)})}}()}],[[13,1,2]]]);
//# sourceMappingURL=main.c74e6b64.chunk.js.map